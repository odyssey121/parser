{"version":3,"sources":["components/Table.js","App.js","serviceWorker.js","index.js"],"names":["placeholder","Typography","Text","type","style","fontSize","spin","ResultTable","result","loading","className","locale","emptyText","dataSource","columns","title","dataIndex","key","width","render","linkContent","map","link","href","date","config","initialValue","required","validate","trigger","rules","message","Form","create","form","useEffect","console","log","useState","setLoading","setResult","getData","a","fetch","then","response","json","dataJson","onSubmit","e","preventDefault","validateFields","err","values","Item","getFieldDecorator","Option","value","onClick","id","Boolean","window","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"css/js/main.fdf342b6.chunk.js","sourcesContent":["import React, { PureComponent } from \"react\";\r\nimport { Icon, Table, Typography } from \"antd\";\r\nconst { Text } = Typography;\r\n\r\nconst placeholder = <Icon type=\"loading\" style={{ fontSize: 44 }} spin />;\r\n\r\nconst ResultTable = ({ result, loading }) => {\r\n  //   const renderTable = () => {\r\n  //     if (result){\r\n\r\n  //     }\r\n\r\n  //   };\r\n\r\n  const renderColumns = () => {\r\n    return [\r\n      {\r\n        title: \"Загаловок\",\r\n        dataIndex: \"title\",\r\n        key: \"title\",\r\n        width: \"70%\",\r\n        render: title => <div>{title && title}</div>\r\n        // sorter: (a, b) => {\r\n        //   return a.title.localeCompare(b.title);\r\n        // }\r\n      },\r\n      {\r\n        title: \"Ссылки на контент\",\r\n        dataIndex: \"linkContent\",\r\n        key: \"linkContent\",\r\n        width: \"20%\",\r\n        render: linkContent => (\r\n          <div>\r\n            {linkContent && linkContent.map(link => <a href={link}>{link}</a>)}\r\n          </div>\r\n        )\r\n        // sorter: (a, b) => {\r\n        //   return a.content.localeCompare(b.content);\r\n        // }\r\n      },\r\n      {\r\n        title: \"Дата\",\r\n        dataIndex: \"date\",\r\n        key: \"date\",\r\n        width: \"10\",\r\n        render: date => <div>{date && date}</div>\r\n        // sorter: (a, b) => {\r\n        //   return a.date.localeCompare(b.date);\r\n        // }\r\n      }\r\n    ];\r\n  };\r\n\r\n  return (\r\n    <div className=\"Table-wrapper\">\r\n      <Table\r\n        locale={{ emptyText: loading ? placeholder : \"Нету результатов...\" }}\r\n        dataSource={result}\r\n        columns={renderColumns()}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResultTable;\r\n","import React, { useState, useEffect } from \"react\";\nimport ResultTable from \"./components/Table\";\nimport { Form, Input, Button, Select, InputNumber } from \"antd\";\nimport \"./App.css\";\n\nconst config = (initialValue, required) => ({\n  initialValue,\n  validate: [\n    {\n      trigger: \"onChange\",\n      rules: [\n        {\n          required: required,\n          message: \"Поле, обязательное для заполнения\"\n        }\n      ]\n    }\n  ]\n});\n\nfunction App({ form }) {\n  useEffect(() => {\n    console.log(result);\n    console.log(loading);\n  });\n\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState([]);\n\n  const getData = async () => {\n    setLoading(true);\n    const dataJson = await fetch(\"/api/news\").then(response => response.json());\n    setLoading(false);\n    setResult(dataJson);\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    form.validateFields((err, values) => {\n      if (!err) {\n        getData();\n        console.log(values);\n      }\n    });\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <Form className=\"Main-form\">\n          <div>\n            <span className=\"label\">\n              Сайт/Блог для парсинга\n              <br />\n              вконце без слеша\n            </span>\n            <Form.Item onSubmit={onSubmit}>\n              {form.getFieldDecorator(\n                \"site\",\n                config(\"https://pasmi.ru/cat/news\", true)\n              )(<Input placeholder=\"Укажите сайт\" className=\"md\" />)}\n            </Form.Item>\n          </div>\n          <div>\n            <span className=\"label\">Тэг главного контейнера</span>\n            <Form.Item>\n              {form.getFieldDecorator(\"containerTag\", config(\"article\", true))(\n                <Input\n                  className=\"sm\"\n                  placeholder=\"Укажите тэг контейнера новости\"\n                />\n              )}\n            </Form.Item>\n          </div>\n          <div>\n            <span className=\"label\">Класс главного контейнера</span>\n            <Form.Item>\n              {form.getFieldDecorator(\n                \"containerClass\",\n                config(\"preview\", false)\n              )(\n                <Input\n                  className=\"sm\"\n                  placeholder=\"Укажите класс контейнера новости\"\n                />\n              )}\n            </Form.Item>\n          </div>\n          <div>\n            <span className=\"label\">Заголовка(по умолчанию h1)</span>\n            <Form.Item>\n              {form.getFieldDecorator(\"titleTag\", config(\"h1\", true))(\n                <Input className=\"sm\" placeholder=\"Укажите тэг заголовка\" />\n              )}\n            </Form.Item>\n          </div>\n          <div>\n            <span className=\"label\">\n              Класс Заголовка\n              <br />\n              (необязательно)\n            </span>\n            <Form.Item>\n              {form.getFieldDecorator(\"titleClass\", config(\"\", false))(\n                <Input className=\"sm\" placeholder=\"Укажите тэг заголовка\" />\n              )}\n            </Form.Item>\n          </div>\n          <div>\n            <span className=\"label\">\n              Укажите в котором тэги\n              <br /> ссылки на страницы\n            </span>\n            <Form.Item>\n              {form.getFieldDecorator(\"pageContainer\", config(\"div\", false))(\n                <Input className=\"sm\" placeholder=\"Укажите <тэг>\" />\n              )}\n            </Form.Item>\n          </div>\n          <div>\n            <span className=\"label\">\n              Укажите класс контайнера для страниц\n              <br /> (необязательно)\n            </span>\n            <Form.Item>\n              {form.getFieldDecorator(\n                \"pageContainerСlass\",\n                config(\"nav-links\", false)\n              )(<Input className=\"sm\" placeholder=\"Укажите <тэг>\" />)}\n            </Form.Item>\n          </div>\n          <div>\n            <span className=\"label\">Формат страниц</span>\n            <Form.Item>\n              {form.getFieldDecorator(\"pageFormat\", config(\"/page/\", false))(\n                <Select placeholder=\"Укажите формат страниц\" className=\"sm\">\n                  <Select.Option value=\"/page/\" key=\"/page/\">\n                    /page/\n                  </Select.Option>\n                  <Select.Option value=\"?page=\" key=\"?page=\">\n                    ?page=\n                  </Select.Option>\n                </Select>\n              )}\n            </Form.Item>\n          </div>\n          <div>\n            <span className=\"label\">Сколько стр. парсить?</span>\n            <Form.Item>\n              {form.getFieldDecorator(\"pageCount\", {})(\n                <InputNumber\n                  className=\"sm\"\n                  placeholder=\"Укажите число (необязательно)\"\n                />\n              )}\n            </Form.Item>\n          </div>\n          <div>\n            <span className=\"label\">\n              Класс времени новости\n              <br />\n              (необязательно)\n            </span>\n            <Form.Item>\n              {form.getFieldDecorator(\"timeClass\", config(\"time\", false))(\n                <Input\n                  className=\"sm\"\n                  placeholder=\"Укажите класс времени новости\"\n                />\n              )}\n            </Form.Item>\n          </div>\n          <div>\n            <Button onClick={onSubmit} type=\"primary\">\n              Попробывать (парсинг)\n            </Button>\n          </div>\n        </Form>\n      </header>\n      <ResultTable result={result} loading={loading} />\n      <Button type=\"danger\" id=\"clear\" onClick={() => setResult([])}>\n        Очисть результаты\n      </Button>\n    </div>\n  );\n}\n\nexport default Form.create()(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}